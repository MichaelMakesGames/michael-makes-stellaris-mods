mmgsiege_shortage_feature = {
	icon = d_bunker_door
	is_for_colonizable = yes
	category = deposit_cat_rare
	potential = {
		always = no
	}
	drop_weight = {
		weight = 0
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_energy_shortage
			check_variable = { which = mmgsiege_energy_shortage_level value = 1 }
		}
		modifier = {
			mmgsiege_energy_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_energy_shortage
			check_variable = { which = mmgsiege_energy_shortage_level value = 2 }
		}
		modifier = {
			mmgsiege_energy_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_energy_shortage
			check_variable = { which = mmgsiege_energy_shortage_level value = 3 }
		}
		modifier = {
			mmgsiege_energy_shortage = 5
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_energy_shortage
			check_variable = { which = mmgsiege_energy_shortage_level value = 4 }
		}
		modifier = {
			mmgsiege_energy_shortage = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_minerals_shortage
			check_variable = { which = mmgsiege_minerals_shortage_level value = 1 }
		}
		modifier = {
			mmgsiege_minerals_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_minerals_shortage
			check_variable = { which = mmgsiege_minerals_shortage_level value = 2 }
		}
		modifier = {
			mmgsiege_minerals_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_minerals_shortage
			check_variable = { which = mmgsiege_minerals_shortage_level value = 3 }
		}
		modifier = {
			mmgsiege_minerals_shortage = 5
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_minerals_shortage
			check_variable = { which = mmgsiege_minerals_shortage_level value = 4 }
		}
		modifier = {
			mmgsiege_minerals_shortage = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_food_shortage
			check_variable = { which = mmgsiege_food_shortage_level value = 1 }
		}
		modifier = {
			mmgsiege_food_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_food_shortage
			check_variable = { which = mmgsiege_food_shortage_level value = 2 }
		}
		modifier = {
			mmgsiege_food_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_food_shortage
			check_variable = { which = mmgsiege_food_shortage_level value = 3 }
		}
		modifier = {
			mmgsiege_food_shortage = 5
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_food_shortage
			check_variable = { which = mmgsiege_food_shortage_level value = 4 }
		}
		modifier = {
			mmgsiege_food_shortage = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_consumer_goods_shortage
			check_variable = { which = mmgsiege_consumer_goods_shortage_level value = 1 }
		}
		modifier = {
			mmgsiege_consumer_goods_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_consumer_goods_shortage
			check_variable = { which = mmgsiege_consumer_goods_shortage_level value = 2 }
		}
		modifier = {
			mmgsiege_consumer_goods_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_consumer_goods_shortage
			check_variable = { which = mmgsiege_consumer_goods_shortage_level value = 3 }
		}
		modifier = {
			mmgsiege_consumer_goods_shortage = 5
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_planet_flag = mmgsiege_consumer_goods_shortage
			check_variable = { which = mmgsiege_consumer_goods_shortage_level value = 4 }
		}
		modifier = {
			mmgsiege_consumer_goods_shortage = 5
		}
	}

	triggered_planet_modifier = {
		potential = {
			OR = {
				AND = {
					owner = { is_catalytic_empire = yes }
					has_planet_flag = mmgsiege_food_shortage
					check_variable = { which = mmgsiege_food_shortage_level value = 1 }
				}
				AND = {
					owner = { is_catalytic_empire = no }
					has_planet_flag = mmgsiege_minerals_shortage
					check_variable = { which = mmgsiege_minerals_shortage_level value = 1 }
				}
			}
		}
		modifier = {
			mmgsiege_metallurgist_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				AND = {
					owner = { is_catalytic_empire = yes }
					has_planet_flag = mmgsiege_food_shortage
					check_variable = { which = mmgsiege_food_shortage_level value = 2 }
				}
				AND = {
					owner = { is_catalytic_empire = no }
					has_planet_flag = mmgsiege_minerals_shortage
					check_variable = { which = mmgsiege_minerals_shortage_level value = 2 }
				}
			}
		}
		modifier = {
			mmgsiege_metallurgist_shortage = 2
		}
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				AND = {
					owner = { is_catalytic_empire = yes }
					has_planet_flag = mmgsiege_food_shortage
					check_variable = { which = mmgsiege_food_shortage_level value = 3 }
				}
				AND = {
					owner = { is_catalytic_empire = no }
					has_planet_flag = mmgsiege_minerals_shortage
					check_variable = { which = mmgsiege_minerals_shortage_level value = 3 }
				}
			}
		}
		modifier = {
			mmgsiege_metallurgist_shortage = 5
		}
	}
	triggered_planet_modifier = {
		potential = {
			OR = {
				AND = {
					owner = { is_catalytic_empire = yes }
					has_planet_flag = mmgsiege_food_shortage
					check_variable = { which = mmgsiege_food_shortage_level value = 4 }
				}
				AND = {
					owner = { is_catalytic_empire = no }
					has_planet_flag = mmgsiege_minerals_shortage
					check_variable = { which = mmgsiege_minerals_shortage_level value = 4 }
				}
			}
		}
		modifier = {
			mmgsiege_metallurgist_shortage = 5
		}
	}
}