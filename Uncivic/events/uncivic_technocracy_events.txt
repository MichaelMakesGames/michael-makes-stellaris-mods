namespace = uncivic_technocracy

# 101 enable (scopeless)
event = {
	id = uncivic_technocracy.101
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		event_target:global_event_country = {
			country_event = { id = uncivic_technocracy.111 }
		}
	}
}

# 102 disable (scopeless)
event = {
	id = uncivic_technocracy.102
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		event_target:global_event_country = {
			country_event = { id = uncivic_technocracy.112 }
		}
	}
}

# 111 enable
country_event = {
	id = uncivic_technocracy.111
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		# no additional initialization needed for technocracy
	}
}

# 112 disable
country_event = {
	id = uncivic_technocracy.112
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_country = {
			every_owned_leader = {
				while = {
					count = trigger:num_traits
					uncivic_technocracy_replace_technocracy_trait_with_random = yes
				}
			}
			every_pool_leader = {
				while = {
					count = trigger:num_traits
					uncivic_technocracy_replace_technocracy_trait_with_random = yes
				}
			}
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_righteous
				MODIFIER = uncivic_technocracy_righteous_scientists
			}
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_corrupt
				MODIFIER = uncivic_technocracy_corrupt_scientists
			}
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_waste_management_specialist
				MODIFIER = uncivic_technocracy_research_waste_management
			}
		}
	}
}

# 121 government added civic
country_event = {
	id = uncivic_technocracy.121
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		# nothing needed
	}
}

# 122 government removed civic
country_event = {
	id = uncivic_technocracy.122
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		# nothing needed
	}
}

#  dP""b8  dP"Yb  88b 88 Yb    dP 888888 88""Yb 888888
# dP   `" dP   Yb 88Yb88  Yb  dP  88__   88__dP   88
# Yb      Yb   dP 88 Y88   YbdP   88""   88"Yb    88
#  YboodP  YbodP  88  Y8    YP    888888 88  Yb   88
#
# 88     888888    db    8888b.  888888 88""Yb
# 88     88__     dPYb    8I  Yb 88__   88__dP
# 88  .o 88""    dP__Yb   8I  dY 88""   88"Yb
# 88ood8 888888 dP""""Yb 8888Y"  888888 88  Yb

# convert scientist to governor
leader_event = {
	id = uncivic_technocracy.201
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		uncivic_technocracy_convert_scientist_to_governor = yes
	}
}

# convert governor to scientist
leader_event = {
	id = uncivic_technocracy.202
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		uncivic_technocracy_convert_governor_to_scientist = yes
	}
}

# kills leader, used to kill temp general created for ui bug
leader_event = {
	id = uncivic_technocracy.203
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		kill_leader = {
			show_notification = no
			fire = yes
		}
	}
}

#  dP""b8 88  88  dP"Yb   dP"Yb  .dP"Y8 888888
# dP   `" 88  88 dP   Yb dP   Yb `Ybo." 88__
# Yb      888888 Yb   dP Yb   dP o.`Y8b 88""
#  YboodP 88  88  YbodP   YbodP  8bodP' 888888
#
# 88     888888    db    8888b.  888888 88""Yb
# 88     88__     dPYb    8I  Yb 88__   88__dP
# 88  .o 88""    dP__Yb   8I  dY 88""   88"Yb
# 88ood8 888888 dP""""Yb 8888Y"  888888 88  Yb
#
# 8b    d8 888888 88b 88 88   88
# 88b  d88 88__   88Yb88 88   88
# 88YbdP88 88""   88 Y88 Y8   8P
# 88 YY 88 888888 88  Y8 `YbodP'

country_event = {
	id = uncivic_technocracy.301
	is_triggered_only = yes
	title = edict_uncivic_technocracy_reassign_technocrat
	desc = edict_uncivic_technocracy_reassign_technocrat_desc
	picture = GFX_evt_decryption
	auto_opens = yes
	option = {
		name = "uncivic_technocracy_reassign_scientist"
		hidden_effect = {
			mmu_paging_init = {
				PAGING_INSTANCE = uncivic_technocracy_leader_paging
				PAGED_ENTITY_TYPE = owned_leader
				PAGED_ENTITY_LIMIT = "leader_class = scientist"
			}
		}
		country_event = { id = uncivic_technocracy.311 }
	}
	option = {
		name = "uncivic_technocracy_reassign_governor"
		hidden_effect = {
			mmu_paging_init = {
				PAGING_INSTANCE = uncivic_technocracy_leader_paging
				PAGED_ENTITY_TYPE = owned_leader
				PAGED_ENTITY_LIMIT = "leader_class = governor"
			}
		}
		country_event = { id = uncivic_technocracy.321 }
	}
	option = {
		name = CLOSE
	}
}

country_event = {
	id = uncivic_technocracy.311
	is_triggered_only = yes
	title = uncivic_technocracy_reassign_scientist
	desc = uncivic_technocracy_reassign_scientist_desc
	picture = GFX_evt_decryption
	auto_opens = yes
	immediate = {
		mmu_paging_save_event_targets = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			PAGED_ENTITY_TYPE = owned_leader
			PAGED_ENTITY_LIMIT = "leader_class = scientist"
		}
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 0
		} }
		name = uncivic_technocracy_leader_0
		uncivic_technocracy_leader_option_effect = { NUMBER = 0 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 1
		} }
		name = uncivic_technocracy_leader_1
		uncivic_technocracy_leader_option_effect = { NUMBER = 1 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 2
		} }
		name = uncivic_technocracy_leader_2
		uncivic_technocracy_leader_option_effect = { NUMBER = 2 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 3
		} }
		name = uncivic_technocracy_leader_3
		uncivic_technocracy_leader_option_effect = { NUMBER = 3 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 4
		} }
		name = uncivic_technocracy_leader_4
		uncivic_technocracy_leader_option_effect = { NUMBER = 4 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 5
		} }
		name = uncivic_technocracy_leader_5
		uncivic_technocracy_leader_option_effect = { NUMBER = 5 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 6
		} }
		name = uncivic_technocracy_leader_6
		uncivic_technocracy_leader_option_effect = { NUMBER = 6 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 7
		} }
		name = uncivic_technocracy_leader_7
		uncivic_technocracy_leader_option_effect = { NUMBER = 7 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 8
		} }
		name = uncivic_technocracy_leader_8
		uncivic_technocracy_leader_option_effect = { NUMBER = 8 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 9
		} }
		name = uncivic_technocracy_leader_9
		uncivic_technocracy_leader_option_effect = { NUMBER = 9 CONVERSION_EVENT = 201 }
	}
	option = {
		trigger = {
			mmu_paging_has_next = {
				PAGING_INSTANCE = uncivic_technocracy_leader_paging
				PAGED_ENTITY_TYPE = owned_leader
				PAGED_ENTITY_LIMIT = "leader_class = scientist"
			}
		}
		name = NEXT
		mmu_paging_next = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		country_event = { id = uncivic_technocracy.311 }
	}
	option = {
		trigger = {
			mmu_paging_has_prev = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		}
		name = PREV
		mmu_paging_prev = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		country_event = { id = uncivic_technocracy.311 }
	}
	option = {
		name = BACK
		mmu_paging_clear_all = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			PAGED_ENTITY_TYPE = owned_leader
		}
		country_event = { id = uncivic_technocracy.301 }
	}
}

country_event = {
	id = uncivic_technocracy.321
	is_triggered_only = yes
	title = uncivic_technocracy_reassign_governor
	desc = uncivic_technocracy_reassign_governor_desc
	picture = GFX_evt_decryption
	auto_opens = yes
	immediate = {
		mmu_paging_save_event_targets = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			PAGED_ENTITY_TYPE = owned_leader
			PAGED_ENTITY_LIMIT = "leader_class = governor"
		}
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 0
		} }
		name = uncivic_technocracy_leader_0
		uncivic_technocracy_leader_option_effect = { NUMBER = 0 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 1
		} }
		name = uncivic_technocracy_leader_1
		uncivic_technocracy_leader_option_effect = { NUMBER = 1 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 2
		} }
		name = uncivic_technocracy_leader_2
		uncivic_technocracy_leader_option_effect = { NUMBER = 2 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 3
		} }
		name = uncivic_technocracy_leader_3
		uncivic_technocracy_leader_option_effect = { NUMBER = 3 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 4
		} }
		name = uncivic_technocracy_leader_4
		uncivic_technocracy_leader_option_effect = { NUMBER = 4 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 5
		} }
		name = uncivic_technocracy_leader_5
		uncivic_technocracy_leader_option_effect = { NUMBER = 5 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 6
		} }
		name = uncivic_technocracy_leader_6
		uncivic_technocracy_leader_option_effect = { NUMBER = 6 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 7
		} }
		name = uncivic_technocracy_leader_7
		uncivic_technocracy_leader_option_effect = { NUMBER = 7 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 8
		} }
		name = uncivic_technocracy_leader_8
		uncivic_technocracy_leader_option_effect = { NUMBER = 8 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = { mmu_paging_current_page_has_entity = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			NUMBER = 9
		} }
		name = uncivic_technocracy_leader_9
		uncivic_technocracy_leader_option_effect = { NUMBER = 9 CONVERSION_EVENT = 202 }
	}
	option = {
		trigger = {
			mmu_paging_has_next = {
				PAGING_INSTANCE = uncivic_technocracy_leader_paging
				PAGED_ENTITY_TYPE = owned_leader
				PAGED_ENTITY_LIMIT = "leader_class = governor"
			}
		}
		name = NEXT
		mmu_paging_next = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		country_event = { id = uncivic_technocracy.321 }
	}
	option = {
		trigger = {
			mmu_paging_has_prev = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		}
		name = PREV
		mmu_paging_prev = { PAGING_INSTANCE = uncivic_technocracy_leader_paging }
		country_event = { id = uncivic_technocracy.321 }
	}
	option = {
		name = BACK
		mmu_paging_clear_all = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			PAGED_ENTITY_TYPE = owned_leader
		}
		country_event = { id = uncivic_technocracy.301 }
	}
}

# .dP"Y8  dP""b8 88""Yb 88 88""Yb 888888 888888 8888b.
# `Ybo." dP   `" 88__dP 88 88__dP   88   88__    8I  Yb
# o.`Y8b Yb      88"Yb  88 88"""    88   88""    8I  dY
# 8bodP'  YboodP 88  Yb 88 88       88   888888 8888Y"
#
# 888888 88""Yb    db    88 888888
#   88   88__dP   dPYb   88   88
#   88   88"Yb   dP__Yb  88   88
#   88   88  Yb dP""""Yb 88   88
#
# 888888 888888 888888 888888  dP""b8 888888 .dP"Y8
# 88__   88__   88__   88__   dP   `"   88   `Ybo."
# 88""   88""   88""   88""   Yb        88   o.`Y8b
# 888888 88     88     888888  YboodP   88   8bodP'

# on_survey
ship_event = {
	id = uncivic_technocracy.401
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = leader
	}
	immediate = {
		leader = {
			if = { # iron fist: immediately gain 10x resources from mineable deposits
				limit = { has_trait = uncivic_technocracy_scientist_trait_iron_fist }
				owner = {
					add_resource = {
						energy = 10
						mult = from.value:mmu_deposits_energy_value
					}
					add_resource = {
						minerals = 10
						mult = from.value:mmu_deposits_minerals_value
					}
					add_resource = {
						food = 10
						mult = from.value:mmu_deposits_food_value
					}
					add_resource = {
						alloys = 10
						mult = from.value:mmu_deposits_alloys_value
					}
					add_resource = {
						exotic_gases = 10
						mult = from.value:mmu_deposits_exotic_gases_value
					}
					add_resource = {
						rare_crystals = 10
						mult = from.value:mmu_deposits_rare_crystals_value
					}
					add_resource = {
						volatile_motes = 10
						mult = from.value:mmu_deposits_volatile_motes_value
					}
				}
			}
			if = { # agrarian upbringing: chance to add food deposits to frozen worlds / ice asteroids
				limit = {
					has_trait = uncivic_technocracy_scientist_trait_agrarian_upbringing
					from = {
						has_anomaly = no
						NOT = { has_deposit_for = shipclass_research_station }
					}
				}
				random = {
					chance = 10
					from = {
						switch = {
							trigger = is_planet_class
							pc_frozen = { add_deposit = d_food_10 }
							pc_ice_asteroid = { add_deposit = d_food_3 }
						}
					}
				}
			}
			if = { # intellectual: increase research deposits by 1
				limit = { has_trait = uncivic_technocracy_scientist_trait_intellectual }
				from = {
					if = {
						limit = { mmu_has_society_deposit = yes }
						add_deposit = d_society_1
					}
					if = {
						limit = { mmu_has_physics_deposit = yes }
						add_deposit = d_physics_1
					}
					if = {
						limit = { mmu_has_engineering_deposit = yes }
						add_deposit = d_engineering_1
					}
				}
			}
			if = { # environmental engineer: clear 1-3 blockers
				limit = { has_trait = uncivic_technocracy_scientist_trait_environmental_engineer }
				from = {
					if = {
						limit = { any_deposit = { is_blocker = yes } }
						random_deposit = {
							limit = { is_blocker = yes }
							clear_blocker = yes
						}
					}
					if = {
						limit = { any_deposit = { is_blocker = yes } }
						random_deposit = {
							limit = { is_blocker = yes }
							random = {
								chance = 50
								clear_blocker = yes
							}
						}
					}
					if = {
						limit = { any_deposit = { is_blocker = yes } }
						random_deposit = {
							limit = { is_blocker = yes }
							random = {
								chance = 50
								clear_blocker = yes
							}
						}
					}
				}
			}
			if = { # enclave trader
				limit = {
					has_trait = uncivic_technocracy_scientist_trait_enclave_trader
					check_variable_arithmetic = {
						which = from.value:mmu_deposits_trade_value_value
						value > 0
					}
				}
				from = {
					if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value >= 10
							}
						}
						add_deposit = d_trade_value_10
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 9
							}
						}
						add_deposit = d_trade_value_9
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 8
							}
						}
						add_deposit = d_trade_value_8
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 7
							}
						}
						add_deposit = d_trade_value_7
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 6
							}
						}
						add_deposit = d_trade_value_6
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 5
							}
						}
						add_deposit = d_trade_value_5
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 4
							}
						}
						add_deposit = d_trade_value_4
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 3
							}
						}
						add_deposit = d_trade_value_3
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 2
							}
						}
						add_deposit = d_trade_value_2
					} else_if = {
						limit = {
							check_variable_arithmetic = {
								which = value:mmu_deposits_trade_value_value
								value = 1
							}
						}
						add_deposit = d_trade_value_1
					}
				}
			}
			if = { # nuumismatic priest
				limit = {
					has_trait = uncivic_technocracy_scientist_trait_nuumismatic_priest
					check_variable_arithmetic = {
						which = from.value:mmu_deposits_trade_value_value
						value > 0
					}
				}
				from = {
					add_deposit = d_vast_unity_deposit
				}
			}
			if = { # prospectorium extractor
				limit = { has_trait = uncivic_technocracy_scientist_trait_prospectorium_extractor }
				from = {
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_energy_value value > 0 } }
						add_deposit = d_energy_3
					}
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_minerals_value value > 0 } }
						add_deposit = d_minerals_3
					}
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_alloys_value value > 0 } }
						add_deposit = d_alloys_2
					}
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_exotic_gases_value value > 0 } }
						add_deposit = d_exotic_gases_1
					}
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_rare_crystals_value value > 0 } }
						add_deposit = d_rare_crystals_1
					}
					if = {
						limit = { check_variable_arithmetic = { which = value:mmu_deposits_volatile_motes_value value > 0 } }
						add_deposit = d_volatile_motes_1
					}
				}
			}
			if = { # prospectorium optimizer
				limit = {
					has_trait = uncivic_technocracy_scientist_trait_prospectorium_optimizer
					from = {
						has_deposit_for = shipclass_mining_station
						check_variable_arithmetic = {
							which = value:mmu_deposits_energy_value
							value = 0
						}
					}
				}
				from = {
					add_deposit = d_energy_1
				}
			}
			if = { # prospectorium refiner
				limit = {
					has_trait = uncivic_technocracy_scientist_trait_prospectorium_refiner
					check_variable_arithmetic = { which = from.value:mmu_deposits_minerals_value value > 0 }
				}
				from = {
					if = {
						limit = { has_deposit = d_minerals_1 }
						remove_deposit = d_minerals_1
						random_list = {
							33 = { add_deposit = d_exotic_gases_1 }
							33 = { add_deposit = d_rare_crystals_1 }
							33 = { add_deposit = d_volatile_motes_1 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_2 }
						remove_deposit = d_minerals_2
						random_list = {
							33 = { add_deposit = d_exotic_gases_1 }
							33 = { add_deposit = d_rare_crystals_1 }
							33 = { add_deposit = d_volatile_motes_1 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_3 }
						remove_deposit = d_minerals_3
						random_list = {
							33 = { add_deposit = d_exotic_gases_2 }
							33 = { add_deposit = d_rare_crystals_2 }
							33 = { add_deposit = d_volatile_motes_2 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_4 }
						remove_deposit = d_minerals_4
						random_list = {
							33 = { add_deposit = d_exotic_gases_2 }
							33 = { add_deposit = d_rare_crystals_2 }
							33 = { add_deposit = d_volatile_motes_2 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_5 }
						remove_deposit = d_minerals_5
						random_list = {
							33 = { add_deposit = d_exotic_gases_3 }
							33 = { add_deposit = d_rare_crystals_3 }
							33 = { add_deposit = d_volatile_motes_3 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_6 }
						remove_deposit = d_minerals_6
						random_list = {
							33 = { add_deposit = d_exotic_gases_3 }
							33 = { add_deposit = d_rare_crystals_3 }
							33 = { add_deposit = d_volatile_motes_3 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_7 }
						remove_deposit = d_minerals_7
						random_list = {
							33 = { add_deposit = d_exotic_gases_4 }
							33 = { add_deposit = d_rare_crystals_4 }
							33 = { add_deposit = d_volatile_motes_4 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_8 }
						remove_deposit = d_minerals_8
						random_list = {
							33 = { add_deposit = d_exotic_gases_4 }
							33 = { add_deposit = d_rare_crystals_4 }
							33 = { add_deposit = d_volatile_motes_4 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_9 }
						remove_deposit = d_minerals_9
						random_list = {
							33 = { add_deposit = d_exotic_gases_5 }
							33 = { add_deposit = d_rare_crystals_5 }
							33 = { add_deposit = d_volatile_motes_5 }
						}
					}
					if = {
						limit = { has_deposit = d_minerals_10 }
						remove_deposit = d_minerals_10
						random_list = {
							33 = { add_deposit = d_exotic_gases_5 }
							33 = { add_deposit = d_rare_crystals_5 }
							33 = { add_deposit = d_volatile_motes_5 }
						}
					}
				}
			}
		}
	}
}

# on_system_survey_ship
ship_event = {
	id = uncivic_technocracy.411
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		exists = leader
	}
	immediate = {
		leader = {
			if = { # bureaucrat: gain unity
				limit = { has_trait = uncivic_technocracy_scientist_trait_bureaucrat }
				owner = {
					add_monthly_resource_mult = {
						resource = unity
						value = 1
						min = 100
						max = 1000
					}
				}
			}
		}
	}
}

# on_leader_assigned
leader_event = {
	id = uncivic_technocracy.421
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		OR = {
			leader_class = governor
			leader_class = scientist
		}
	}
	immediate = {
		owner = {
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_righteous
				MODIFIER = uncivic_technocracy_righteous_scientists
			}
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_corrupt
				MODIFIER = uncivic_technocracy_corrupt_scientists
			}
			uncivic_technocracy_update_leader_trait_country_modifier = {
				TRAIT = uncivic_technocracy_scientist_trait_waste_management_specialist
				MODIFIER = uncivic_technocracy_research_waste_management
			}
		}
	}
}

# on_leader_death on_leader_fired
country_event = {
	id = uncivic_technocracy.422
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		uncivic_technocracy_update_leader_trait_country_modifier = {
			TRAIT = uncivic_technocracy_scientist_trait_righteous
			MODIFIER = uncivic_technocracy_righteous_scientists
		}
		uncivic_technocracy_update_leader_trait_country_modifier = {
			TRAIT = uncivic_technocracy_scientist_trait_corrupt
			MODIFIER = uncivic_technocracy_corrupt_scientists
		}
		uncivic_technocracy_update_leader_trait_country_modifier = {
			TRAIT = uncivic_technocracy_scientist_trait_waste_management_specialist
			MODIFIER = uncivic_technocracy_research_waste_management
		}
	}
}

# on_monthly_pulse_country
country_event = {
	id = uncivic_technocracy.431
	hide_window = yes
	is_triggered_only = yes
	immediate = {
		every_owned_sector = {
			if = { # scholarium explorer
				limit = {
					exists = leader
					leader = {
						has_trait = uncivic_technocracy_governor_trait_scholarium_explorer
						NOT = { has_leader_flag = uncivic_technocracy_recent_discovery }
					}
					any_system_within_border = {
						any_system_planet = {
							is_colony = yes
							is_homeworld = no
							is_artificial = no
						}
					}
				}
				random = {
					chance = 1
					leader = {
						set_timed_leader_flag = {
							flag = uncivic_technocracy_recent_discovery
							days = 1800
						}
					}
					random_system_within_border = {
						limit = {
							any_system_planet = {
								is_colony = yes
								is_homeworld = no
								is_artificial = no
							}
						}
						random_system_planet = {
							limit = {
								is_colony = yes
								is_homeworld = no
								is_artificial = no
							}
							add_random_non_blocker_deposit = yes
							create_message = {
								type = MESSAGE_TYPE_PLANET_PROSPECTED
								localization = MESSAGE_PLANET_PROSPECTED
								days = 30
								target = this
								variable = {
									type = name
									localization = PLANET
									scope = this
								}
								variable = {
									type = name
									localization = DEPOSIT
									scope = last_added_deposit
								}
							}
						}
					}
				}
			}
			if = { # archaeologist
				limit = {
					exists = leader
					leader = {
						has_trait = uncivic_technocracy_governor_trait_archaeologist_ancrel
						NOT = { has_leader_flag = uncivic_technocracy_recent_discovery }
					}
					any_system_within_border = {
						any_system_planet = {
							exists = archaeological_site
						}
					}
				}
				random = {
					chance = 1
					leader = {
						set_timed_leader_flag = {
							flag = uncivic_technocracy_recent_discovery
							days = 1800
						}
						leader_event = { id = uncivic_technocracy.432 }
					}
				}
			}
		}
	}
}

leader_event = {
	id = uncivic_technocracy.432
	is_triggered_only = yes
	picture = GFX_evt_archaeology_camp
	title = uncivic_technocracy_artifacts_discovered
	desc = uncivic_technocracy_artifacts_discovered_desc
	option = {
		name = CURIOUS
		small_artifact_reward = yes
	}
}

#    db    88
#   dPYb   88
#  dP__Yb  88
# dP""""Yb 88

country_event = {
	id = uncivic_technocracy.501
	hide_window = yes
	is_triggered_only = yes
	trigger = {
		is_ai = yes
		has_valid_civic = civic_technocracy
		NOT = {
			has_global_flag = uncivic_Technocracy_disabled
		}
	}
	immediate = {
		random_owned_leader = {
			limit = { leader_class = scientist }
			leader_event = { id = uncivic_technocracy.201 }
		}
		random_owned_leader = {
			limit = { leader_class = governor }
			leader_event = { id = uncivic_technocracy.202 }
		}
	}
}