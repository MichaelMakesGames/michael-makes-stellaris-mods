#  dP""b8  dP"Yb  88b 88 Yb    dP 888888 88""Yb 888888
# dP   `" dP   Yb 88Yb88  Yb  dP  88__   88__dP   88
# Yb      Yb   dP 88 Y88   YbdP   88""   88"Yb    88
#  YboodP  YbodP  88  Y8    YP    888888 88  Yb   88
#
# 88     888888    db    8888b.  888888 88""Yb .dP"Y8
# 88     88__     dPYb    8I  Yb 88__   88__dP `Ybo."
# 88  .o 88""    dP__Yb   8I  dY 88""   88"Yb  o.`Y8b
# 88ood8 888888 dP""""Yb 8888Y"  888888 88  Yb 8bodP'

uncivic_technocracy_convert_scientist_to_governor = {
	owner = {
		clone_leader = {
			target = prev
			class = governor
		}
		last_created_leader = {
			while = {
				count = trigger:num_traits
				uncivic_technocracy_replace_scientist_trait_with_governor_trait = yes
			}
			fire_on_action = {
				on_action = uncivic_on_leader_converted
				scopes = { from = root }
			}
		}
	}
	kill_leader = {
		show_notification = no
		fire = yes
	}
	owner = {
		uncivic_technocracy_force_leader_gui_update = yes
	}
}

uncivic_technocracy_convert_governor_to_scientist = {
	owner = {
		clone_leader = {
			target = prev
			class = scientist
		}
		last_created_leader = {
			while = {
				count = trigger:num_traits
				uncivic_technocracy_replace_governor_trait_with_scientist_trait = yes
			}
			fire_on_action = {
				on_action = uncivic_on_leader_converted
				scopes = { from = root }
			}
		}
	}
	kill_leader = {
		show_notification = no
		fire = yes
	}
	owner = {
		uncivic_technocracy_force_leader_gui_update = yes
	}
}

# 88""Yb 888888 88""Yb 88        db     dP""b8 888888
# 88__dP 88__   88__dP 88       dPYb   dP   `" 88__
# 88"Yb  88""   88"""  88  .o  dP__Yb  Yb      88""
# 88  Yb 888888 88     88ood8 dP""""Yb  YboodP 888888
#
# .dP"Y8  dP""b8 88 888888 88b 88 888888 88 .dP"Y8 888888
# `Ybo." dP   `" 88 88__   88Yb88   88   88 `Ybo."   88
# o.`Y8b Yb      88 88""   88 Y88   88   88 o.`Y8b   88
# 8bodP'  YboodP 88 888888 88  Y8   88   88 8bodP'   88
#
# 888888 88""Yb    db    88 888888 .dP"Y8
#   88   88__dP   dPYb   88   88   `Ybo."
#   88   88"Yb   dP__Yb  88   88   o.`Y8b
#   88   88  Yb dP""""Yb 88   88   8bodP'

uncivic_technocracy_replace_scientist_trait_with_governor_trait = {
	switch = {
		trigger = has_trait
		# vanilla convertable traits
		leader_trait_scientist_erudite = {
			remove_trait = leader_trait_scientist_erudite
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_erudite }
		}
		leader_trait_scientist_cyborg = {
			remove_trait = leader_trait_scientist_cyborg
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_cyborg }
		}
		leader_trait_scientist_synthetic = {
			remove_trait = leader_trait_scientist_synthetic
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_synthetic }
		}
		leader_trait_scientist_psionic = {
			remove_trait = leader_trait_scientist_psionic
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_psionic }
		}
		leader_trait_scientist_chosen = {
			remove_trait = leader_trait_scientist_chosen
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_chosen }
		}
		leader_trait_scientist_brainslug = {
			remove_trait = leader_trait_scientist_brainslug
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_governor_brainslug }
		}
		# vanilla inspired_* traits
		# as far as I can tell, are not used. Remove them just in case
		leader_trait_inspired_archaeologist = {
			remove_trait = leader_trait_inspired_archaeologist
		}
		leader_trait_inspired_researcher = {
			remove_trait = leader_trait_inspired_researcher
		}
		leader_trait_inspired_surveyor = {
			remove_trait = leader_trait_inspired_surveyor
		}
		# uncivic traits (other civics)
		uncivic_shadow_council_scientist_trait_shadow_councilor = {
			remove_trait = uncivic_shadow_council_scientist_trait_shadow_councilor
			add_trait = uncivic_shadow_council_governor_trait_shadow_councilor
		}
		# vanilla scientist traits
		leader_trait_mindful = {
			remove_trait = leader_trait_mindful
			add_trait = uncivic_technocracy_governor_trait_mindful
		}
		leader_trait_meticulous = {
			remove_trait = leader_trait_meticulous
			add_trait = uncivic_technocracy_governor_trait_meticulous
		}
		leader_trait_spark_of_genius = {
			remove_trait = leader_trait_spark_of_genius
			add_trait = uncivic_technocracy_governor_trait_spark_of_genius
		}
		leader_trait_carefree = {
			remove_trait = leader_trait_carefree
			add_trait = uncivic_technocracy_governor_trait_carefree
		}
		leader_trait_roamer = {
			remove_trait = leader_trait_roamer
			add_trait = uncivic_technocracy_governor_trait_roamer
		}
		leader_trait_archaeologist = {
			remove_trait = leader_trait_archaeologist
			add_trait = uncivic_technocracy_governor_trait_archaeologist
		}
		leader_trait_archaeologist_ancrel = {
			remove_trait = leader_trait_archaeologist_ancrel
			add_trait = uncivic_technocracy_governor_trait_archaeologist_ancrel
		}
		leader_trait_maniacal = {
			remove_trait = leader_trait_maniacal
			add_trait = uncivic_technocracy_governor_trait_maniacal
		}
		leader_trait_custom_AI_assistant = {
			remove_trait = leader_trait_custom_AI_assistant
			add_trait = uncivic_technocracy_governor_trait_custom_AI_assistant
		}
		leader_trait_sapient_AI_assistant = {
			remove_trait = leader_trait_sapient_AI_assistant
			add_trait = uncivic_technocracy_governor_trait_sapient_AI_assistant
		}
		leader_trait_expertise_materials = {
			remove_trait = leader_trait_expertise_materials
			add_trait = uncivic_technocracy_governor_trait_expertise_materials
		}
		leader_trait_expertise_propulsion = {
			remove_trait = leader_trait_expertise_propulsion
			add_trait = uncivic_technocracy_governor_trait_expertise_propulsion
		}
		leader_trait_expertise_voidcraft = {
			remove_trait = leader_trait_expertise_voidcraft
			add_trait = uncivic_technocracy_governor_trait_expertise_voidcraft
		}
		leader_trait_expertise_industry = {
			remove_trait = leader_trait_expertise_industry
			add_trait = uncivic_technocracy_governor_trait_expertise_industry
		}
		leader_trait_expertise_field_manipulation = {
			remove_trait = leader_trait_expertise_field_manipulation
			add_trait = uncivic_technocracy_governor_trait_expertise_field_manipulation
		}
		leader_trait_expertise_particles = {
			remove_trait = leader_trait_expertise_particles
			add_trait = uncivic_technocracy_governor_trait_expertise_particles
		}
		leader_trait_expertise_computing = {
			remove_trait = leader_trait_expertise_computing
			add_trait = uncivic_technocracy_governor_trait_expertise_computing
		}
		leader_trait_expertise_psionics = {
			remove_trait = leader_trait_expertise_psionics
			add_trait = uncivic_technocracy_governor_trait_expertise_psionics
		}
		leader_trait_expertise_new_worlds = {
			remove_trait = leader_trait_expertise_new_worlds
			add_trait = uncivic_technocracy_governor_trait_expertise_new_worlds
		}
		leader_trait_expertise_statecraft = {
			remove_trait = leader_trait_expertise_statecraft
			add_trait = uncivic_technocracy_governor_trait_expertise_statecraft
		}
		leader_trait_expertise_biology = {
			remove_trait = leader_trait_expertise_biology
			add_trait = uncivic_technocracy_governor_trait_expertise_biology
		}
		leader_trait_expertise_military_theory = {
			remove_trait = leader_trait_expertise_military_theory
			add_trait = uncivic_technocracy_governor_trait_expertise_military_theory
		}
		leader_trait_paranoid = {
			remove_trait = leader_trait_paranoid
			add_trait = uncivic_technocracy_governor_trait_paranoid
		}
		leader_trait_traumatized = {
			remove_trait = leader_trait_traumatized
			add_trait = uncivic_technocracy_governor_trait_traumatized
		}
		leader_trait_maimed = {
			remove_trait = leader_trait_maimed
			add_trait = uncivic_technocracy_governor_trait_maimed
		}
		leader_trait_curator = {
			remove_trait = leader_trait_curator
			add_trait = uncivic_technocracy_governor_trait_curator
		}
		leader_trait_towel = {
			remove_trait = leader_trait_towel
			add_trait = uncivic_technocracy_governor_trait_towel
		}
		leader_trait_percussive_maintainer = {
			remove_trait = leader_trait_percussive_maintainer
			add_trait = uncivic_technocracy_governor_trait_percussive_maintainer
		}
		leader_trait_scholarium_investigator = {
			remove_trait = leader_trait_scholarium_investigator
			add_trait = uncivic_technocracy_governor_trait_scholarium_investigator
		}
		leader_trait_scholarium_explorer = {
			remove_trait = leader_trait_scholarium_explorer
			add_trait = uncivic_technocracy_governor_trait_scholarium_explorer
		}
		leader_trait_scholarium_observer = {
			remove_trait = leader_trait_scholarium_observer
			add_trait = uncivic_technocracy_governor_trait_scholarium_observer
		}
		# uncivic technocracy scientist traits
		uncivic_technocracy_scientist_trait_iron_fist = {
			remove_trait = uncivic_technocracy_scientist_trait_iron_fist
			add_trait = leader_trait_iron_fist
		}
		uncivic_technocracy_scientist_trait_army_veteran = {
			remove_trait = uncivic_technocracy_scientist_trait_army_veteran
			add_trait = leader_trait_army_veteran
		}
		uncivic_technocracy_scientist_trait_retired_fleet_officer = {
			remove_trait = uncivic_technocracy_scientist_trait_retired_fleet_officer
			add_trait = leader_trait_retired_fleet_officer
		}
		uncivic_technocracy_scientist_trait_architectural_interest = {
			remove_trait = uncivic_technocracy_scientist_trait_architectural_interest
			add_trait = leader_trait_architectural_interest
		}
		uncivic_technocracy_scientist_trait_agrarian_upbringing = {
			remove_trait = uncivic_technocracy_scientist_trait_agrarian_upbringing
			add_trait = leader_trait_agrarian_upbringing
		}
		uncivic_technocracy_scientist_trait_intellectual = {
			remove_trait = uncivic_technocracy_scientist_trait_intellectual
			add_trait = leader_trait_intellectual
		}
		uncivic_technocracy_scientist_trait_environmental_engineer = {
			remove_trait = uncivic_technocracy_scientist_trait_environmental_engineer
			add_trait = leader_trait_environmental_engineer
		}
		uncivic_technocracy_scientist_trait_bureaucrat = {
			remove_trait = uncivic_technocracy_scientist_trait_bureaucrat
			add_trait = leader_trait_bureaucrat
		}
		uncivic_technocracy_scientist_trait_righteous = {
			remove_trait = uncivic_technocracy_scientist_trait_righteous
			add_trait = leader_trait_righteous
		}
		uncivic_technocracy_scientist_trait_corrupt = {
			remove_trait = uncivic_technocracy_scientist_trait_corrupt
			add_trait = leader_trait_corrupt
		}
		uncivic_technocracy_scientist_trait_governor_gray = {
			remove_trait = uncivic_technocracy_scientist_trait_governor_gray
			add_trait = leader_trait_governor_gray
		}
		uncivic_technocracy_scientist_trait_enclave_trader = {
			remove_trait = uncivic_technocracy_scientist_trait_enclave_trader
			add_trait = leader_trait_enclave_trader
		}
		uncivic_technocracy_scientist_trait_waste_management_specialist = {
			remove_trait = uncivic_technocracy_scientist_trait_waste_management_specialist
			add_trait = leader_trait_waste_management_specialist
		}
		uncivic_technocracy_scientist_trait_nuumismatic_priest = {
			remove_trait = uncivic_technocracy_scientist_trait_nuumismatic_priest
			add_trait = leader_trait_nuumismatic_priest
		}
		uncivic_technocracy_scientist_trait_governor_oracle = {
			remove_trait = uncivic_technocracy_scientist_trait_governor_oracle
			add_trait = leader_trait_governor_oracle
		}
		uncivic_technocracy_scientist_trait_prospectorium_extractor = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_extractor
			add_trait = leader_trait_prospectorium_extractor
		}
		uncivic_technocracy_scientist_trait_prospectorium_optimizer = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_optimizer
			add_trait = leader_trait_prospectorium_optimizer
		}
		uncivic_technocracy_scientist_trait_prospectorium_refiner = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_refiner
			add_trait = leader_trait_prospectorium_refiner
		}
	}
}

# 88""Yb 888888 88""Yb 88        db     dP""b8 888888
# 88__dP 88__   88__dP 88       dPYb   dP   `" 88__
# 88"Yb  88""   88"""  88  .o  dP__Yb  Yb      88""
# 88  Yb 888888 88     88ood8 dP""""Yb  YboodP 888888
#
#  dP""b8  dP"Yb  Yb    dP 888888 88""Yb 88b 88  dP"Yb  88""Yb
# dP   `" dP   Yb  Yb  dP  88__   88__dP 88Yb88 dP   Yb 88__dP
# Yb  "88 Yb   dP   YbdP   88""   88"Yb  88 Y88 Yb   dP 88"Yb
#  YboodP  YbodP     YP    888888 88  Yb 88  Y8  YbodP  88  Yb
#
# 888888 88""Yb    db    88 888888 .dP"Y8
#   88   88__dP   dPYb   88   88   `Ybo."
#   88   88"Yb   dP__Yb  88   88   o.`Y8b
#   88   88  Yb dP""""Yb 88   88   8bodP'

uncivic_technocracy_replace_governor_trait_with_scientist_trait = {
	switch = {
		trigger = has_trait
		# vanilla convertable traits
		leader_trait_governor_erudite = {
			remove_trait = leader_trait_governor_erudite
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_erudite }
		}
		leader_trait_governor_cyborg = {
			remove_trait = leader_trait_governor_cyborg
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_cyborg }
		}
		leader_trait_governor_synthetic = {
			remove_trait = leader_trait_governor_synthetic
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_synthetic }
		}
		leader_trait_governor_psionic = {
			remove_trait = leader_trait_governor_psionic
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_psionic }
		}
		leader_trait_governor_chosen = {
			remove_trait = leader_trait_governor_chosen
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_chosen }
		}
		leader_trait_governor_brainslug = {
			remove_trait = leader_trait_governor_brainslug
			mmu_leaders_add_trait_if_absent = { TRAIT = leader_trait_scientist_brainslug }
		}
		# uncivic traits (other civics)
		uncivic_shadow_council_governor_trait_shadow_councilor = {
			remove_trait = uncivic_shadow_council_governor_trait_shadow_councilor
			add_trait = uncivic_shadow_council_scientist_trait_shadow_councilor
		}
		# uncivic technocracy governor traits
		uncivic_technocracy_governor_trait_mindful = {
			remove_trait = uncivic_technocracy_governor_trait_mindful
			add_trait = leader_trait_mindful
		}
		uncivic_technocracy_governor_trait_meticulous = {
			remove_trait = uncivic_technocracy_governor_trait_meticulous
			add_trait = leader_trait_meticulous
		}
		uncivic_technocracy_governor_trait_spark_of_genius = {
			remove_trait = uncivic_technocracy_governor_trait_spark_of_genius
			add_trait = leader_trait_spark_of_genius
		}
		uncivic_technocracy_governor_trait_carefree = {
			remove_trait = uncivic_technocracy_governor_trait_carefree
			add_trait = leader_trait_carefree
		}
		uncivic_technocracy_governor_trait_roamer = {
			remove_trait = uncivic_technocracy_governor_trait_roamer
			add_trait = leader_trait_roamer
		}
		uncivic_technocracy_governor_trait_archaeologist = {
			remove_trait = uncivic_technocracy_governor_trait_archaeologist
			add_trait = leader_trait_archaeologist
		}
		uncivic_technocracy_governor_trait_archaeologist_ancrel = {
			remove_trait = uncivic_technocracy_governor_trait_archaeologist_ancrel
			add_trait = leader_trait_archaeologist_ancrel
		}
		uncivic_technocracy_governor_trait_maniacal = {
			remove_trait = uncivic_technocracy_governor_trait_maniacal
			add_trait = leader_trait_maniacal
		}
		uncivic_technocracy_governor_trait_custom_AI_assistant = {
			remove_trait = uncivic_technocracy_governor_trait_custom_AI_assistant
			add_trait = leader_trait_custom_AI_assistant
		}
		uncivic_technocracy_governor_trait_sapient_AI_assistant = {
			remove_trait = uncivic_technocracy_governor_trait_sapient_AI_assistant
			add_trait = leader_trait_sapient_AI_assistant
		}
		uncivic_technocracy_governor_trait_expertise_materials = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_materials
			add_trait = leader_trait_expertise_materials
		}
		uncivic_technocracy_governor_trait_expertise_propulsion = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_propulsion
			add_trait = leader_trait_expertise_propulsion
		}
		uncivic_technocracy_governor_trait_expertise_voidcraft = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_voidcraft
			add_trait = leader_trait_expertise_voidcraft
		}
		uncivic_technocracy_governor_trait_expertise_industry = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_industry
			add_trait = leader_trait_expertise_industry
		}
		uncivic_technocracy_governor_trait_expertise_field_manipulation = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_field_manipulation
			add_trait = leader_trait_expertise_field_manipulation
		}
		uncivic_technocracy_governor_trait_expertise_particles = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_particles
			add_trait = leader_trait_expertise_particles
		}
		uncivic_technocracy_governor_trait_expertise_computing = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_computing
			add_trait = leader_trait_expertise_computing
		}
		uncivic_technocracy_governor_trait_expertise_psionics = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_psionics
			add_trait = leader_trait_expertise_psionics
		}
		uncivic_technocracy_governor_trait_expertise_new_worlds = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_new_worlds
			add_trait = leader_trait_expertise_new_worlds
		}
		uncivic_technocracy_governor_trait_expertise_statecraft = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_statecraft
			add_trait = leader_trait_expertise_statecraft
		}
		uncivic_technocracy_governor_trait_expertise_biology = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_biology
			add_trait = leader_trait_expertise_biology
		}
		uncivic_technocracy_governor_trait_expertise_military_theory = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_military_theory
			add_trait = leader_trait_expertise_military_theory
		}
		uncivic_technocracy_governor_trait_paranoid = {
			remove_trait = uncivic_technocracy_governor_trait_paranoid
			add_trait = leader_trait_paranoid
		}
		uncivic_technocracy_governor_trait_traumatized = {
			remove_trait = uncivic_technocracy_governor_trait_traumatized
			add_trait = leader_trait_traumatized
		}
		uncivic_technocracy_governor_trait_maimed = {
			remove_trait = uncivic_technocracy_governor_trait_maimed
			add_trait = leader_trait_maimed
		}
		uncivic_technocracy_governor_trait_curator = {
			remove_trait = uncivic_technocracy_governor_trait_curator
			add_trait = leader_trait_curator
		}
		uncivic_technocracy_governor_trait_towel = {
			remove_trait = uncivic_technocracy_governor_trait_towel
			add_trait = leader_trait_towel
		}
		uncivic_technocracy_governor_trait_percussive_maintainer = {
			remove_trait = uncivic_technocracy_governor_trait_percussive_maintainer
			add_trait = leader_trait_percussive_maintainer
		}
		uncivic_technocracy_governor_trait_scholarium_investigator = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_investigator
			add_trait = leader_trait_scholarium_investigator
		}
		uncivic_technocracy_governor_trait_scholarium_explorer = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_explorer
			add_trait = leader_trait_scholarium_explorer
		}
		uncivic_technocracy_governor_trait_scholarium_observer = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_observer
			add_trait = leader_trait_scholarium_observer
		}
		# vanilla governor traits
		leader_trait_iron_fist = {
			remove_trait = leader_trait_iron_fist
			add_trait = uncivic_technocracy_scientist_trait_iron_fist
		}
		leader_trait_army_veteran = {
			remove_trait = leader_trait_army_veteran
			add_trait = uncivic_technocracy_scientist_trait_army_veteran
		}
		leader_trait_retired_fleet_officer = {
			remove_trait = leader_trait_retired_fleet_officer
			add_trait = uncivic_technocracy_scientist_trait_retired_fleet_officer
		}
		leader_trait_architectural_interest = {
			remove_trait = leader_trait_architectural_interest
			add_trait = uncivic_technocracy_scientist_trait_architectural_interest
		}
		leader_trait_agrarian_upbringing = {
			remove_trait = leader_trait_agrarian_upbringing
			add_trait = uncivic_technocracy_scientist_trait_agrarian_upbringing
		}
		leader_trait_intellectual = {
			remove_trait = leader_trait_intellectual
			add_trait = uncivic_technocracy_scientist_trait_intellectual
		}
		leader_trait_environmental_engineer = {
			remove_trait = leader_trait_environmental_engineer
			add_trait = uncivic_technocracy_scientist_trait_environmental_engineer
		}
		leader_trait_bureaucrat = {
			remove_trait = leader_trait_bureaucrat
			add_trait = uncivic_technocracy_scientist_trait_bureaucrat
		}
		leader_trait_righteous = {
			remove_trait = leader_trait_righteous
			add_trait = uncivic_technocracy_scientist_trait_righteous
		}
		leader_trait_corrupt = {
			remove_trait = leader_trait_corrupt
			add_trait = uncivic_technocracy_scientist_trait_corrupt
		}
		leader_trait_governor_gray = {
			remove_trait = leader_trait_governor_gray
			add_trait = uncivic_technocracy_scientist_trait_governor_gray
		}
		leader_trait_enclave_trader = {
			remove_trait = leader_trait_enclave_trader
			add_trait = uncivic_technocracy_scientist_trait_enclave_trader
		}
		leader_trait_waste_management_specialist = {
			remove_trait = leader_trait_waste_management_specialist
			add_trait = uncivic_technocracy_scientist_trait_waste_management_specialist
		}
		leader_trait_nuumismatic_priest = {
			remove_trait = leader_trait_nuumismatic_priest
			add_trait = uncivic_technocracy_scientist_trait_nuumismatic_priest
		}
		leader_trait_governor_oracle = {
			remove_trait = leader_trait_governor_oracle
			add_trait = uncivic_technocracy_scientist_trait_governor_oracle
		}
		leader_trait_prospectorium_extractor = {
			remove_trait = leader_trait_prospectorium_extractor
			add_trait = uncivic_technocracy_scientist_trait_prospectorium_extractor
		}
		leader_trait_prospectorium_optimizer = {
			remove_trait = leader_trait_prospectorium_optimizer
			add_trait = uncivic_technocracy_scientist_trait_prospectorium_optimizer
		}
		leader_trait_prospectorium_refiner = {
			remove_trait = leader_trait_prospectorium_refiner
			add_trait = uncivic_technocracy_scientist_trait_prospectorium_refiner
		}
	}
}

# 88""Yb 888888 88""Yb 88        db     dP""b8 888888
# 88__dP 88__   88__dP 88       dPYb   dP   `" 88__
# 88"Yb  88""   88"""  88  .o  dP__Yb  Yb      88""
# 88  Yb 888888 88     88ood8 dP""""Yb  YboodP 888888
#
# 888888 888888  dP""b8 88  88 88b 88  dP"Yb   dP""b8 88""Yb    db     dP""b8 Yb  dP
#   88   88__   dP   `" 88  88 88Yb88 dP   Yb dP   `" 88__dP   dPYb   dP   `"  YbdP
#   88   88""   Yb      888888 88 Y88 Yb   dP Yb      88"Yb   dP__Yb  Yb        8P
#   88   888888  YboodP 88  88 88  Y8  YbodP   YboodP 88  Yb dP""""Yb  YboodP  dP
#
# 888888 88""Yb    db    88 888888 .dP"Y8
#   88   88__dP   dPYb   88   88   `Ybo."
#   88   88"Yb   dP__Yb  88   88   o.`Y8b
#   88   88  Yb dP""""Yb 88   88   8bodP'

uncivic_technocracy_replace_technocracy_trait_with_random = {
	switch = {
		trigger = has_trait
		# uncivic technocracy governor traits
		uncivic_technocracy_governor_trait_mindful = {
			remove_trait = uncivic_technocracy_governor_trait_mindful
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_meticulous = {
			remove_trait = uncivic_technocracy_governor_trait_meticulous
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_spark_of_genius = {
			remove_trait = uncivic_technocracy_governor_trait_spark_of_genius
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_carefree = {
			remove_trait = uncivic_technocracy_governor_trait_carefree
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_roamer = {
			remove_trait = uncivic_technocracy_governor_trait_roamer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_archaeologist = {
			remove_trait = uncivic_technocracy_governor_trait_archaeologist
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_archaeologist_ancrel = {
			remove_trait = uncivic_technocracy_governor_trait_archaeologist_ancrel
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_maniacal = {
			remove_trait = uncivic_technocracy_governor_trait_maniacal
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_custom_AI_assistant = {
			remove_trait = uncivic_technocracy_governor_trait_custom_AI_assistant
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_sapient_AI_assistant = {
			remove_trait = uncivic_technocracy_governor_trait_sapient_AI_assistant
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_materials = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_materials
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_propulsion = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_propulsion
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_voidcraft = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_voidcraft
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_industry = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_industry
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_field_manipulation = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_field_manipulation
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_particles = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_particles
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_computing = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_computing
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_psionics = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_psionics
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_new_worlds = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_new_worlds
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_statecraft = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_statecraft
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_biology = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_biology
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_expertise_military_theory = {
			remove_trait = uncivic_technocracy_governor_trait_expertise_military_theory
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_paranoid = {
			remove_trait = uncivic_technocracy_governor_trait_paranoid
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_traumatized = {
			remove_trait = uncivic_technocracy_governor_trait_traumatized
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_maimed = {
			remove_trait = uncivic_technocracy_governor_trait_maimed
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_curator = {
			remove_trait = uncivic_technocracy_governor_trait_curator
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_towel = {
			remove_trait = uncivic_technocracy_governor_trait_towel
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_percussive_maintainer = {
			remove_trait = uncivic_technocracy_governor_trait_percussive_maintainer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_scholarium_investigator = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_investigator
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_scholarium_explorer = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_explorer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_governor_trait_scholarium_observer = {
			remove_trait = uncivic_technocracy_governor_trait_scholarium_observer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		# uncivic technocracy scientist traits
		uncivic_technocracy_scientist_trait_iron_fist = {
			remove_trait = uncivic_technocracy_scientist_trait_iron_fist
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_army_veteran = {
			remove_trait = uncivic_technocracy_scientist_trait_army_veteran
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_retired_fleet_officer = {
			remove_trait = uncivic_technocracy_scientist_trait_retired_fleet_officer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_architectural_interest = {
			remove_trait = uncivic_technocracy_scientist_trait_architectural_interest
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_agrarian_upbringing = {
			remove_trait = uncivic_technocracy_scientist_trait_agrarian_upbringing
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_intellectual = {
			remove_trait = uncivic_technocracy_scientist_trait_intellectual
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_environmental_engineer = {
			remove_trait = uncivic_technocracy_scientist_trait_environmental_engineer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_bureaucrat = {
			remove_trait = uncivic_technocracy_scientist_trait_bureaucrat
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_righteous = {
			remove_trait = uncivic_technocracy_scientist_trait_righteous
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_corrupt = {
			remove_trait = uncivic_technocracy_scientist_trait_corrupt
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_governor_gray = {
			remove_trait = uncivic_technocracy_scientist_trait_governor_gray
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_enclave_trader = {
			remove_trait = uncivic_technocracy_scientist_trait_enclave_trader
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_waste_management_specialist = {
			remove_trait = uncivic_technocracy_scientist_trait_waste_management_specialist
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_nuumismatic_priest = {
			remove_trait = uncivic_technocracy_scientist_trait_nuumismatic_priest
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_governor_oracle = {
			remove_trait = uncivic_technocracy_scientist_trait_governor_oracle
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_prospectorium_extractor = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_extractor
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_prospectorium_optimizer = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_optimizer
			uncivic_technocracy_add_random_leader_trait = yes
		}
		uncivic_technocracy_scientist_trait_prospectorium_refiner = {
			remove_trait = uncivic_technocracy_scientist_trait_prospectorium_refiner
			uncivic_technocracy_add_random_leader_trait = yes
		}
	}
}

#    db    8888b.  8888b.
#   dPYb    8I  Yb  8I  Yb
#  dP__Yb   8I  dY  8I  dY
# dP""""Yb 8888Y"  8888Y"
#
# 88""Yb    db    88b 88 8888b.   dP"Yb  8b    d8
# 88__dP   dPYb   88Yb88  8I  Yb dP   Yb 88b  d88
# 88"Yb   dP__Yb  88 Y88  8I  dY Yb   dP 88YbdP88
# 88  Yb dP""""Yb 88  Y8 8888Y"   YbodP  88 YY 88
#
# 888888 88""Yb    db    88 888888
#   88   88__dP   dPYb   88   88
#   88   88"Yb   dP__Yb  88   88
#   88   88  Yb dP""""Yb 88   88

# copy of vanilla add_random_leader_trait
# but only scientists and governor
# and no negative traits (stubborn, substance_abuser, arrested_development, corrupt, paranoid)
# and doen't fire event
uncivic_technocracy_add_random_leader_trait = {
	optimize_memory
	if = { #Is a science ship commander
		limit = {
			leader_class = scientist
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_meticulous }
						}
						add_trait = leader_trait_meticulous
						set_timed_leader_flag = { flag = gained_leader_trait_meticulous days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_spark_of_genius }
						}
						add_trait = leader_trait_spark_of_genius
						set_timed_leader_flag = { flag = gained_leader_trait_spark_of_genius days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_carefree }
						}
						add_trait = leader_trait_carefree
						set_timed_leader_flag = { flag = gained_leader_trait_carefree days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_roamer
								has_trait = leader_trait_cataloger
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_roamer
							set_timed_leader_flag = { flag = gained_leader_trait_roamer days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_cataloger
							set_timed_leader_flag = { flag = gained_leader_trait_cataloger days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_archaeologist
								has_trait = leader_trait_archaeologist_ancrel
							}
						}
						if = {
							limit = {
								owner = { has_ancrel = yes }
							}
							add_trait = leader_trait_archaeologist_ancrel
							set_timed_leader_flag = { flag = leader_trait_archaeologist_ancrel days = 7 }
						}
						if = {
							limit = {
								owner = { has_ancrel = no }
							}
							add_trait = leader_trait_archaeologist
							set_timed_leader_flag = { flag = leader_trait_archaeologist days = 7 }
						}

						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_maniacal }
						}
						add_trait = leader_trait_maniacal
						set_timed_leader_flag = { flag = gained_leader_trait_maniacal days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_custom_AI_assistant }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_custom_AI_assistant
						set_timed_leader_flag = { flag = gained_leader_trait_custom_AI_assistant days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = physics
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_materials }
						}
						add_trait = leader_trait_expertise_materials
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_materials days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = physics
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_propulsion }
						}
						add_trait = leader_trait_expertise_propulsion
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_propulsion days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = physics
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_voidcraft }
						}
						add_trait = leader_trait_expertise_voidcraft
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_voidcraft days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = physics
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_industry }
						}
						add_trait = leader_trait_expertise_industry
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_industry days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_field_manipulation }
						}
						add_trait = leader_trait_expertise_field_manipulation
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_field_manipulation days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_particles }
						}
						add_trait = leader_trait_expertise_particles
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_particles days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = society
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_computing }
						}
						add_trait = leader_trait_expertise_computing
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_computing days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = physics
						}
					}
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_expertise_psionics
								owner = { has_ethic = ethic_gestalt_consciousness }
								species = { has_trait = trait_mechanical }
							}
						}
						add_trait = leader_trait_expertise_psionics
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_psionics days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = physics
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_new_worlds }
						}
						add_trait = leader_trait_expertise_new_worlds
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_new_worlds days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = physics
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_statecraft }
						}
						add_trait = leader_trait_expertise_statecraft
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_statecraft days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = physics
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_biology }
						}
						add_trait = leader_trait_expertise_biology
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_biology days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					modifier = {
						factor = 0
						OR = {
							is_researching_area = engineering
							is_researching_area = physics
						}
					}
					if = {
						limit = {
							NOT = { has_trait = leader_trait_expertise_military_theory }
						}
						add_trait = leader_trait_expertise_military_theory
						set_timed_leader_flag = { flag = gained_leader_trait_expertise_military_theory days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
	}
	if = {
		limit = {
			leader_class = governor
		}
		while = {
			limit = {
				NOT = { has_leader_flag = has_gained_trait }
			}
			random_list = {
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_adaptable }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_adaptable
						set_timed_leader_flag = { flag = gained_leader_trait_adaptable days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_resilient }
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_resilient
						set_timed_leader_flag = { flag = gained_leader_trait_resilient days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_righteous
								has_trait = leader_trait_corrupt
							}
							NOT = { owner = { has_ethic = "ethic_gestalt_consciousness" } }
						}
						add_trait = leader_trait_righteous
						set_timed_leader_flag = { flag = gained_leader_trait_righteous days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_iron_fist
								owner = { allows_slavery = no }
								owner = { has_authority = "auth_machine_intelligence" }
							}
						}
						add_trait = leader_trait_iron_fist
						set_timed_leader_flag = { flag = gained_leader_trait_iron_fist days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOT = { has_trait = leader_trait_architectural_interest }
						}
						add_trait = leader_trait_architectural_interest
						set_timed_leader_flag = { flag = gained_leader_trait_architectural_interest days = 7 }
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_intellectual
								has_trait = leader_trait_analytical
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_intellectual
							set_timed_leader_flag = { flag = gained_leader_trait_intellectual days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_analytical
							set_timed_leader_flag = { flag = gained_leader_trait_analytical days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
				5 = {
					if = {
						limit = {
							NOR = {
								has_trait = leader_trait_environmental_engineer
								has_trait = leader_trait_bulldozer
							}
						}
						if = {
							limit = {
								owner = {
									NOT = { has_authority = "auth_machine_intelligence" }
								}
							}
							add_trait = leader_trait_environmental_engineer
							set_timed_leader_flag = { flag = gained_leader_trait_environmental_engineer days = 7 }
						}
						if = {
							limit = {
								owner = { has_authority = "auth_machine_intelligence" }
							}
							add_trait = leader_trait_bulldozer
							set_timed_leader_flag = { flag = gained_leader_trait_bulldozer days = 7 }
						}
						set_timed_leader_flag = { flag = has_gained_trait days = 7 }
					}
				}
			}
		}
	}
	remove_leader_flag = has_gained_trait
}

# 8888b.  88 .dP"Y8 88""Yb 88        db    Yb  dP
#  8I  Yb 88 `Ybo." 88__dP 88       dPYb    YbdP
#  8I  dY 88 o.`Y8b 88"""  88  .o  dP__Yb    8P
# 8888Y"  88 8bodP' 88     88ood8 dP""""Yb  dP
#
# 888888 88""Yb    db    88 888888 .dP"Y8
#   88   88__dP   dPYb   88   88   `Ybo."
#   88   88"Yb   dP__Yb  88   88   o.`Y8b
#   88   88  Yb dP""""Yb 88   88   8bodP'

# doesn't actually do anything, but used to generate tooltip
uncivic_technocracy_display_traits = {
	# generic traits
	if = {
		limit = { has_trait = leader_trait_adaptable }
		custom_tooltip = leader_trait_adaptable
	}
	if = {
		limit = { has_trait = leader_trait_stubborn }
		custom_tooltip = leader_trait_stubborn
	}
	if = {
		limit = { has_trait = leader_trait_resilient }
		custom_tooltip = leader_trait_resilient
	}
	if = {
		limit = { has_trait = leader_trait_substance_abuser }
		custom_tooltip = leader_trait_substance_abuser
	}
	if = {
		limit = { has_trait = leader_trait_eager }
		custom_tooltip = leader_trait_eager
	}
	if = {
		limit = { has_trait = leader_trait_arrested_development }
		custom_tooltip = leader_trait_arrested_development
	}
	if = {
		limit = { has_trait = leader_trait_shroud_age }
		custom_tooltip = leader_trait_shroud_age
	}
	if = {
		limit = { has_trait = leader_trait_dragonbane }
		custom_tooltip = leader_trait_dragonbane
	}
	# swappable traits
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_erudite
			has_trait = leader_trait_governor_erudite
		} }
		custom_tooltip = leader_trait_scientist_erudite
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_cyborg
			has_trait = leader_trait_governor_cyborg
		} }
		custom_tooltip = leader_trait_scientist_cyborg
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_synthetic
			has_trait = leader_trait_governor_synthetic
		} }
		custom_tooltip = leader_trait_scientist_synthetic
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_psionic
			has_trait = leader_trait_governor_psionic
		} }
		custom_tooltip = leader_trait_scientist_psionic
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_chosen
			has_trait = leader_trait_governor_chosen
		} }
		custom_tooltip = leader_trait_scientist_chosen
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scientist_brainslug
			has_trait = leader_trait_governor_brainslug
		} }
		custom_tooltip = leader_trait_scientist_brainslug
	}
	# uncivic traits
	if = {
		limit = { OR = {
			has_trait = uncivic_shadow_council_scientist_trait_shadow_councilor
			has_trait = uncivic_shadow_council_governor_trait_shadow_councilor
		} }
		custom_tooltip = uncivic_shadow_council_scientist_trait_shadow_councilor
	}
	# scientist traits
	if = {
		limit = { OR = {
			has_trait = leader_trait_mindful
			has_trait = uncivic_technocracy_governor_trait_mindful
		} }
		custom_tooltip = leader_trait_mindful
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_meticulous
			has_trait = uncivic_technocracy_governor_trait_meticulous
		} }
		custom_tooltip = leader_trait_meticulous
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_spark_of_genius
			has_trait = uncivic_technocracy_governor_trait_spark_of_genius
		} }
		custom_tooltip = leader_trait_spark_of_genius
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_carefree
			has_trait = uncivic_technocracy_governor_trait_carefree
		} }
		custom_tooltip = leader_trait_carefree
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_roamer
			has_trait = uncivic_technocracy_governor_trait_roamer
		} }
		custom_tooltip = leader_trait_roamer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_archaeologist
			has_trait = uncivic_technocracy_governor_trait_archaeologist
		} }
		custom_tooltip = leader_trait_archaeologist
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_archaeologist_ancrel
			has_trait = uncivic_technocracy_governor_trait_archaeologist_ancrel
		} }
		custom_tooltip = leader_trait_archaeologist_ancrel
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_maniacal
			has_trait = uncivic_technocracy_governor_trait_maniacal
		} }
		custom_tooltip = leader_trait_maniacal
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_custom_AI_assistant
			has_trait = uncivic_technocracy_governor_trait_custom_AI_assistant
		} }
		custom_tooltip = leader_trait_custom_AI_assistant
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_sapient_AI_assistant
			has_trait = uncivic_technocracy_governor_trait_sapient_AI_assistant
		} }
		custom_tooltip = leader_trait_sapient_AI_assistant
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_materials
			has_trait = uncivic_technocracy_governor_trait_expertise_materials
		} }
		custom_tooltip = leader_trait_expertise_materials
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_propulsion
			has_trait = uncivic_technocracy_governor_trait_expertise_propulsion
		} }
		custom_tooltip = leader_trait_expertise_propulsion
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_voidcraft
			has_trait = uncivic_technocracy_governor_trait_expertise_voidcraft
		} }
		custom_tooltip = leader_trait_expertise_voidcraft
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_industry
			has_trait = uncivic_technocracy_governor_trait_expertise_industry
		} }
		custom_tooltip = leader_trait_expertise_industry
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_field_manipulation
			has_trait = uncivic_technocracy_governor_trait_expertise_field_manipulation
		} }
		custom_tooltip = leader_trait_expertise_field_manipulation
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_particles
			has_trait = uncivic_technocracy_governor_trait_expertise_particles
		} }
		custom_tooltip = leader_trait_expertise_particles
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_computing
			has_trait = uncivic_technocracy_governor_trait_expertise_computing
		} }
		custom_tooltip = leader_trait_expertise_computing
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_psionics
			has_trait = uncivic_technocracy_governor_trait_expertise_psionics
		} }
		custom_tooltip = leader_trait_expertise_psionics
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_new_worlds
			has_trait = uncivic_technocracy_governor_trait_expertise_new_worlds
		} }
		custom_tooltip = leader_trait_expertise_new_worlds
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_statecraft
			has_trait = uncivic_technocracy_governor_trait_expertise_statecraft
		} }
		custom_tooltip = leader_trait_expertise_statecraft
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_biology
			has_trait = uncivic_technocracy_governor_trait_expertise_biology
		} }
		custom_tooltip = leader_trait_expertise_biology
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_expertise_military_theory
			has_trait = uncivic_technocracy_governor_trait_expertise_military_theory
		} }
		custom_tooltip = leader_trait_expertise_military_theory
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_paranoid
			has_trait = uncivic_technocracy_governor_trait_paranoid
		} }
		custom_tooltip = leader_trait_paranoid
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_traumatized
			has_trait = uncivic_technocracy_governor_trait_traumatized
		} }
		custom_tooltip = leader_trait_traumatized
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_maimed
			has_trait = uncivic_technocracy_governor_trait_maimed
		} }
		custom_tooltip = leader_trait_maimed
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_curator
			has_trait = uncivic_technocracy_governor_trait_curator
		} }
		custom_tooltip = leader_trait_curator
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_towel
			has_trait = uncivic_technocracy_governor_trait_towel
		} }
		custom_tooltip = leader_trait_towel
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_percussive_maintainer
			has_trait = uncivic_technocracy_governor_trait_percussive_maintainer
		} }
		custom_tooltip = leader_trait_percussive_maintainer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scholarium_investigator
			has_trait = uncivic_technocracy_governor_trait_scholarium_investigator
		} }
		custom_tooltip = leader_trait_scholarium_investigator
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scholarium_explorer
			has_trait = uncivic_technocracy_governor_trait_scholarium_explorer
		} }
		custom_tooltip = leader_trait_scholarium_explorer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_scholarium_observer
			has_trait = uncivic_technocracy_governor_trait_scholarium_observer
		} }
		custom_tooltip = leader_trait_scholarium_observer
	}
	# governor traits
	if = {
		limit = { OR = {
			has_trait = leader_trait_iron_fist
			has_trait = uncivic_technocracy_scientist_trait_iron_fist
		} }
		custom_tooltip = leader_trait_iron_fist
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_army_veteran
			has_trait = uncivic_technocracy_scientist_trait_army_veteran
		} }
		custom_tooltip = leader_trait_army_veteran
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_retired_fleet_officer
			has_trait = uncivic_technocracy_scientist_trait_retired_fleet_officer
		} }
		custom_tooltip = leader_trait_retired_fleet_officer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_architectural_interest
			has_trait = uncivic_technocracy_scientist_trait_architectural_interest
		} }
		custom_tooltip = leader_trait_architectural_interest
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_agrarian_upbringing
			has_trait = uncivic_technocracy_scientist_trait_agrarian_upbringing
		} }
		custom_tooltip = leader_trait_agrarian_upbringing
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_intellectual
			has_trait = uncivic_technocracy_scientist_trait_intellectual
		} }
		custom_tooltip = leader_trait_intellectual
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_environmental_engineer
			has_trait = uncivic_technocracy_scientist_trait_environmental_engineer
		} }
		custom_tooltip = leader_trait_environmental_engineer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_bureaucrat
			has_trait = uncivic_technocracy_scientist_trait_bureaucrat
		} }
		custom_tooltip = leader_trait_bureaucrat
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_righteous
			has_trait = uncivic_technocracy_scientist_trait_righteous
		} }
		custom_tooltip = leader_trait_righteous
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_corrupt
			has_trait = uncivic_technocracy_scientist_trait_corrupt
		} }
		custom_tooltip = leader_trait_corrupt
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_governor_gray
			has_trait = uncivic_technocracy_scientist_trait_governor_gray
		} }
		custom_tooltip = leader_trait_governor_gray
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_enclave_trader
			has_trait = uncivic_technocracy_scientist_trait_enclave_trader
		} }
		custom_tooltip = leader_trait_enclave_trader
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_waste_management_specialist
			has_trait = uncivic_technocracy_scientist_trait_waste_management_specialist
		} }
		custom_tooltip = leader_trait_waste_management_specialist
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_nuumismatic_priest
			has_trait = uncivic_technocracy_scientist_trait_nuumismatic_priest
		} }
		custom_tooltip = leader_trait_nuumismatic_priest
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_governor_oracle
			has_trait = uncivic_technocracy_scientist_trait_governor_oracle
		} }
		custom_tooltip = leader_trait_governor_oracle
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_prospectorium_extractor
			has_trait = uncivic_technocracy_scientist_trait_prospectorium_extractor
		} }
		custom_tooltip = leader_trait_prospectorium_extractor
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_prospectorium_optimizer
			has_trait = uncivic_technocracy_scientist_trait_prospectorium_optimizer
		} }
		custom_tooltip = leader_trait_prospectorium_optimizer
	}
	if = {
		limit = { OR = {
			has_trait = leader_trait_prospectorium_refiner
			has_trait = uncivic_technocracy_scientist_trait_prospectorium_refiner
		} }
		custom_tooltip = leader_trait_prospectorium_refiner
	}
}

# .dP"Y8  dP""b8 88""Yb 88 88""Yb 888888 888888 8888b.
# `Ybo." dP   `" 88__dP 88 88__dP   88   88__    8I  Yb
# o.`Y8b Yb      88"Yb  88 88"""    88   88""    8I  dY
# 8bodP'  YboodP 88  Yb 88 88       88   888888 8888Y"
#
# 888888 88""Yb    db    88 888888
#   88   88__dP   dPYb   88   88
#   88   88"Yb   dP__Yb  88   88
#   88   88  Yb dP""""Yb 88   88
#
# 888888 888888 888888 888888  dP""b8 888888 .dP"Y8
# 88__   88__   88__   88__   dP   `"   88   `Ybo."
# 88""   88""   88""   88""   Yb        88   o.`Y8b
# 888888 88     88     888888  YboodP   88   8bodP'

uncivic_technocracy_update_leader_trait_country_modifier = {
	if = {
		limit = { has_modifier = $MODIFIER$ }
		remove_modifier = $MODIFIER$
	}
	if = {
		limit = { any_owned_leader = { has_trait = $TRAIT$ } }
		add_modifier = {
			modifier = $MODIFIER$
			multiplier = value:mmu_leaders_num_with_trait|TRAIT|$TRAIT$|
		}
	}
}

# 88   88 888888 88 88     .dP"Y8
# 88   88   88   88 88     `Ybo."
# Y8   8P   88   88 88  .o o.`Y8b
# `YbodP'   88   88 88ood8 8bodP'

uncivic_technocracy_force_leader_gui_update = {
	# create temporary general, to force leader gui to update
	# (if number of leaders stays the same, gui doesn't update)
	create_leader = {
		class = general
		species = this.species
	}
	last_created_leader = {
		set_cooldown = 1
		set_name = "Temporary General"
		# kill leader in a day (gui does not update if killed instantly)
		leader_event = { id = uncivic_technocracy.203 days = 1 }
	}
}

uncivic_technocracy_leader_option_effect = {
	event_target:uncivic_technocracy_leader_paging_current_page_entity_$NUMBER$ = {
		uncivic_technocracy_display_traits = yes
	}
	hidden_effect = {
		event_target:uncivic_technocracy_leader_paging_current_page_entity_$NUMBER$ = {
			leader_event = { id = uncivic_technocracy.$CONVERSION_EVENT$ }
		}
		mmu_paging_clear_all = {
			PAGING_INSTANCE = uncivic_technocracy_leader_paging
			PAGED_ENTITY_TYPE = owned_leader
		}
		country_event = { id = uncivic_technocracy.301 }
	}
}
